# Torque V2

## Lending pool

### Liquidity pools

-   Stakers deposit collateral in exchange for LP tokens
-   LP tokens represent the percentage of the pool entitled to the owner and may be traded as ERC20 (to avoid redemption helping to lock liquidity)
-   Pool may use deposited liquidity in multiple ways
    -   Claim and unclaim - claim a portion of liquidity in the pool as your own without withdrawing it from the pool
    -   Withdrawing - directly withdraw crypto from the pool
-   Only certain tokens will be approved for use with the pool to avoid hacks and liquidity problems that could harm the protocol
-   Pool accumulates money via interest rates which fuels the market neutral strategy provided

## Market link (upgradeable)

-   Contains a collection of price feeds that are evaluated on every price request
-   Requests price feeds
-   If the token for the price food is a LP token it calculates it from the pool itself - this way users can lock their LP tokens up as collateral and pay off their own leverage interest
-   Provides an interface for swapping collateral - this may be upgraded in future from a DEX to a manual collateral swap

## Isolated margin

-   Margin will use the underlying liquidity pool to allow users to leverage huge amounts of crypto
-   In order to leverage, users will have to deposit a minimum amount of collateral, however they will be able to leverage as much as they wish against this minimum amount. This is needed to provide a high enough incentive for a liquidator in the case that the margin level falls below the minimum.

### Long

-   Users will borrow a given asset (that is not the same asset) against their collateral
-   This collateral will be used to compensate us in the case of a liquidation
-   Borrowers will pay interest on the initial price of the asset they borrow which will be charged on a per block basis
-   Consider the cases where the amount borrowed falls above or below the given amount:
    -   Value below: Once below the safe threshold of which the collateral can repay, the user will be open to liquidations where we take their collateral to pay off their debt. This allows the protocol to hedge against market price changes without any more risk than just holding the asset regularly.
    -   Value above: The borrower will be entitled to their earnings. We will honor them with the price change between when they initially borrowed and when they repaid which will be redeposited into their account as the asset they borrowed against.

### Short

-   Very similar to going long on the asset, however all that is necessary to do to short an asset is to use the asset to be shorted as collateral and borrow the asset to short against **Look further into this one**

### Interest rates

-   Interest rates are based off of the pools utilization rate and the max interest rate percentage - more borrowed = more interest
-   Interest rates are charged on a per block basis. Leveraging on top of an existing position will instantly accumulate interest on the new amount borrowed from the original block.

### Liquidations

-   The safety of a leveraged position is determined off of the margin level. If the margin level at any given time falls below the minimum amount, the position will be open to be liquidated. In the event of a liquidation, a user will swap your collateral for the asset you borrowed, and in doing so the collateral of your position and the amount borrowed will be reset to zero
-   Adding more collateral can help increase the margin level, and repaying the loan also resets the margin level

### Repayments **Look further into this one regarding withdrawing at any time without repaying first ?**

-   In order to cash your earnings out or repay your losses you will have to call repay
-   If the position decreased in value, the corresponding amount of your collateral will be used to repay it
-   If the position increased in value, the corresponding price difference between the initial borrow and the time of withdrawal will be allocated to the accounts collateral

## Yield farming

-   By holding LP tokens a user is eligible for yield farming rewards
-   To earn yield farming rewards, stake LP tokens into the yield farmer
-   Yields will be paid out on a block by block basis, but will reset after a new deposit. Before depositing more LP tokens, cash out existing tokens to avoid losing any earned yields.
-   The yield rate is slashed on a block by block basis

## DAO and TAU

-   The entire protocol will be managed entirely by the DAO where changes can be voted on by TAU holders which is the governance token of the protocol
-   A portion of earnings from the liquidity pool will be taxed by the DAO, which can then be used to fund new projects within the Torque ecosystem if the grant is approved, or locking liquidity into the pool permanently

## Future plans

-   Flashloans
-   Cross margin
-   Traditional collateral swap lending
-   Auto yield farmer
